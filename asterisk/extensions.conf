; Asterisk Dialplan Configuration
; Routes incoming calls to AI Voice Agent

[general]
static=yes
writeprotect=no

[voice-agent]
; Main context for voice translation calls

; Incoming call from FOS
exten => _X.,1,NoOp(Incoming call from ${CALLERID(num)})
    same => n,Set(CALL_ID=${RAND()})
    same => n,Set(CHANNEL(language)=en)
    same => n,Answer()
    same => n,Playback(welcome)
    same => n,Stasis(voice-agent,${CALL_ID})
    same => n,Hangup()

; Emergency fallback
exten => h,1,NoOp(Call ended)
    same => n,Hangup()
