; Asterisk SIP Configuration
; PJSIP configuration for modern SIP handling

[global]
type=global
max_forwards=70
user_agent=VoiceAgent-Asterisk
default_realm=voiceagent.local

[transport-udp]
type=transport
protocol=udp
bind=0.0.0.0:5060
external_media_address=YOUR_PUBLIC_IP
external_signaling_address=YOUR_PUBLIC_IP

[transport-tcp]
type=transport
protocol=tcp
bind=0.0.0.0:5060

; Template for endpoints
[endpoint-template](!)
type=endpoint
context=voice-agent
disallow=all
allow=ulaw,alaw,opus
rtp_symmetric=yes
force_rport=yes
rewrite_contact=yes
direct_media=no
ice_support=yes
dtmf_mode=rfc4733

; FOS Endpoint (trunk or individual registrations)
[fos-trunk](endpoint-template)
type=endpoint
aors=fos-trunk

[fos-trunk]
type=aor
max_contacts=100
remove_existing=yes

[fos-trunk]
type=identify
endpoint=fos-trunk
match=0.0.0.0/0

; IT Team Endpoint
[it-team](endpoint-template)
type=endpoint
aors=it-team

[it-team]
type=aor
max_contacts=50
remove_existing=yes
